(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;v=cookiePrefix+"cr_last_path",window.redirectToLastChallengePath&&(g=$.cookie(v),b="",g!=null?b="tingkat/"+g+".html":b="tingkat/01/00.html",window.location.href+=b),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),(!window.console||!console.log)&&function(){var e,t,n,r,i;r=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],t=n.length,e=window.console={},i=[];while(t--)i.push(e[n[t]]=r);return i}(),u=function(){return!!window.history&&!!history.pushState},p="",c=!1,h=null,i=function(){var e,t,n,r;p="",c=!1,n=$("#js-challenge"),n!=null&&n.length>0&&(p=n.data("path"),c=n.data("answerable"),h=n.data("capabilities"),e=$("body"),e.removeClass(),h!=null&&e.addClass(h.join("   "))),t=$("#code-prefill"),t!=null&&t.length>0&&(r=t.text().trim(),r.length>0&&(r+="\n# Ketik jawaban di bawah ini\n"),l(r));if(u())return $(".js-challenge-link").on("click",function(){return o($(this).attr("href")),!1})},y=!1,o=function(e){return $.cookie(v,p,{expires:7,path:"/"}),u()?(y||(y=!0,$(window).on("popstate",function(e){return o(window.location.href)})),$.get(e,{},function(t,n,r){var s,o,u;return u="#js-question",s=$(u),o=function(){var n;return n=$(t),s.html(n.find(u).html()),i(),history.pushState({},n.find("title").text(),e)},$("#instruction-loading-placebo").fadeIn("fast"),$.support.transition?s.transition({opacity:0},function(){return o(),s.transition({opacity:1})}):o(),$("#instruction-loading-placebo").fadeOut("fast")})):window.location.href=e},s=function(e){return o([challengeRoot,e].join("/")+".html")},d=null,m=!1,l=function(e){return m?d.setValue(e):$("#action-pane .input textarea")[0].value=e},a=function(){return m?d.getValue():$("#action-pane .input textarea")[0].value},f=function(){return d=CodeMirror.fromTextArea($("#code-editor")[0],{lineNumbers:!0,tabIndex:1,tabSize:2,fixedGutter:!1,mode:"ruby"}),m=!0},t=$("body"),n=$("#code-loading-placebo"),w=$("#snippet-request-error-template").text(),r=$("#snippet-runner"),$("#snippet-request-error-template").remove(),f(),i(),$(".btn-run").on("click",function(){var e,t,r;return e=$("#run-output"),r=a(),n.fadeIn("fast"),t={snippet:r,challenge_path:p},h!=null&&h.length>0&&(t.capabilities=h),$.post(rubyEvalRoot+"/coba-ruby.json",t,function(t,r,i){var o,u,a,f,l,h;c&&t.is_correct&&s(t.next_challenge_path),n.fadeOut("fast"),e.text(t.output);if(t.popups!=null){o=$("#popup"),o.empty(),l=t.popups,h=[];for(a=0,f=l.length;a<f;a++)u=l[a],u.type==="CRURLResource"?h.push(o.append($('<iframe src="'+u.url+'"></iframe>'))):h.push(o.append(u.content));return h}}).fail(function(t,r,i){var s;n.fadeOut("fast"),s=t.responseText;if(s==null||parseInt(t.status,10)>=500)s=w;return e.text(s)})}),$(".tab-content").hide(),e=$(".tabs").find("li.active"),$(e.find("a").attr("tab-content")).show(),$(".tabs>li>a").on("click",function(){var e,t;return t=$(this),e=t.parent(),$(".tab-content").hide(),$(".tabs li").removeClass("active"),e.addClass("active"),$(t.attr("tab-content")).show()}),$(".js-clear-popup").on("click",function(){return $("#popup").empty()}),$(".js-share-facebook").on("click",function(){var e;return e="https://www.facebook.com/sharer/sharer.php?u=",window.open(e+$(this).data("url"),"sharer","width=626,height=436")}),$(".js-share-twitter").on("click",function(){var e,t,n;return e=$(this),n="https://twitter.com/intent/tweet?",t={hashtags:e.data("hashtags"),original_referer:window.location.href,text:"Coba Ruby, Yuk!",tw_p:"tweetbutton",url:e.data("url")},window.open(n+$.param(t),"sharer","width=626,height=436")})}).call(this);